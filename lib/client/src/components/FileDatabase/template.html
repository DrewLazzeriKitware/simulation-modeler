<v-container class="fill-height" fluid>
  <v-row class="fill-height flex-nowrap">
    <v-col
      cols="12"
      sm="4"
      class="fill-height d-flex flex-column"
      style="border-right: 1px solid grey;"
    >
      <v-toolbar dense flat class="flex-grow-0">
        <v-text-field label="Search" prepend-icon="mdi-magnify"></v-text-field>
        <v-btn outlined small icon class="ml-2 align-self-start">
          <v-icon> mdi-plus</v-icon>
        </v-btn>
      </v-toolbar>
      <v-divider />
      <v-list>
        <template v-for="(file, index) in files">
          <v-list-item :key="index" @click="currentFileIndex.index=index">
            <div class="d-flex flex-column align-start py-2">
              <v-icon class="pr-2">
                {{iconFromType(file.type)}}
              </v-icon>
              <span class="text-caption font-weight-thin">
                {{file.dateUploaded.toLocaleDateString()}}
              </span>
              <span class="text-caption font-weight-thin">
                {{file.category}}
              </span>
            </div>

            <v-list-item-content class="pl-2">
              <v-list-item-title>{{file.name}}</v-list-item-title>

              <v-list-item-subtitle>
                {{file.description}}
              </v-list-item-subtitle>
            </v-list-item-content>
            <v-icon> mdi-delete </v-icon>
          </v-list-item>

          <v-divider :key="`divider-${index}`"></v-divider>
        </template>
      </v-list>
    </v-col>
    <v-col cols="12" sm="8">
      <v-container class="fill-height" v-if="currentFile">
        <v-row class="justify-space-around flex-nowrap">
          <v-text-field
            label="Name"
            :value="currentFile.name"
            outlined
            class="flex-grow-0"
          />
          <v-select
            label="Category"
            :items="['CLM', 'Indicator', 'Etc']"
            filled
            class="flex-grow-0"
          />
        </v-row>
        <v-row class="justify-space-around flex-nowrap ">
          <DragAndDropFiles class="pa-4" />
          <table class="pa-4 flex-grow-0">
            <tr>
              <td>Origin</td>
              <td>{{currentFile.origin}}</td>
            </tr>
            <tr>
              <td>Date Uploaded</td>
              <td>{{currentFile.dateUploaded.toLocaleDateString()}}</td>
            </tr>
            <tr>
              <td>Date Created</td>
              <td>{{currentFile.dateCreated.toLocaleDateString()}}</td>
            </tr>
            <tr>
              <td>Type</td>
              <td>{{currentFile.type}}</td>
            </tr>
            <tr>
              <td>Size</td>
              <td>{{currentFile.size}}</td>
            </tr>
          </table>
        </v-row>
        <v-row>
          <v-textarea label="Description" />
        </v-row>
        <v-row class="mt-auto">
          <v-btn> Download </v-btn>
          <v-btn class="ml-auto"> Cancel </v-btn>
          <v-btn> Save </v-btn>
        </v-row>
      </v-container>
    </v-col>
  </v-row>
</v-container>
